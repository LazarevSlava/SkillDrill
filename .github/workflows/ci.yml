lint:
  name: ESLint & Prettier (root)
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v4

    - uses: actions/setup-node@v4
      with:
        node-version: 20
        cache: npm
        cache-dependency-path: package-lock.json # корневой lock

    - name: Install root dev deps
      run: npm ci

    - name: ESLint
      run: npx eslint client server

    - name: Prettier check
      # если нет скрипта prettier:check в корне, можно так:
      run: npx prettier --check "client/**/*.{js,ts,tsx,jsx,json,css,md}" "server/**/*.{js,ts,tsx,jsx,json,css,md}"
